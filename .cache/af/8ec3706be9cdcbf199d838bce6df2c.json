{"id":"IWa2","dependencies":[{"name":"/home/strukturart/Desktop/Pages/greg/package.json","includedInParent":true,"mtime":1644872416688}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.validate=exports.uid=exports.top_bar=exports.toaster=exports.sort_array=exports.side_toaster=exports.screenlock=exports.pushLocalNotification=exports.pick_image=exports.notification=exports.list_files=exports.goodbye=exports.getManifest=exports.deleteFile=exports.bottom_bar=void 0;var t=function(t,e,o){\"date\"==o&&t.sort(function(t,o){return new Date(t[e])-new Date(o[e])}),\"number\"==o&&t.sort(function(t,o){return o[e]-t[e]}),\"string\"==o&&t.sort(function(t,o){var n=t[e].toLowerCase(),r=o[e].toLowerCase();return n<r?-1:n>r?1:0})};exports.sort_array=t;var e=function(){function t(t){var e=(Math.random().toString(16)+\"000000000\").substr(2,8);return t?\"-\"+e.substr(0,4)+\"-\"+e.substr(4,4):e}return\"greg@\"+t()+t(!0)+t(!0)+t()};exports.uid=e;var o=\"\";exports.notification=o;var n=function(t,e,n){var r={body:e,silent:n,requireInteraction:!1};\"granted\"===Notification.permission&&(exports.notification=o=new Notification(t,r)),\"denied\"!==Notification.permission&&Notification.requestPermission().then(function(e){\"granted\"===e&&(exports.notification=o=new Notification(t,r))})},r=function(t,e){window.Notification.requestPermission().then(function(o){var n=new window.Notification(t,{body:e});n.onerror=function(t){console.log(t)},n.onclick=function(t){if(window.navigator.mozApps){var e=window.navigator.mozApps.getSelf();e.onsuccess=function(){e.result&&(n.close(),e.result.launch())}}else window.open(document.location.origin,\"_blank\")},n.onshow=function(){}})};exports.pushLocalNotification=r,navigator.mozSetMessageHandler&&navigator.mozSetMessageHandler(\"alarm\",function(t){console.log(JSON.stringify(t)),r(\"Greg\",t.data.foo)});var i=function(t){return!!/(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/.test(t)};exports.validate=i;var c=function(t){if(!navigator.mozApps)return!1;var e=navigator.mozApps.getSelf();e.onsuccess=function(){t(e.result)},e.onerror=function(){}};exports.getManifest=c;var s,a=[],u=function(t,e){a.push({text:t,time:e}),1===a.length&&d(t,e)};exports.toaster=u;var l,d=function t(e,o){var n=document.querySelector(\"div#toast\");n.innerHTML=a[0].text,n.style.transform=\"translate(0px, 0px)\",s=setTimeout(function(){s=null,n.style.transform=\"translate(0px, -100px)\",(a=a.slice(1)).length>0&&setTimeout(function(){t(e,o)},1e3)},o)},f=[],p=function(t,e){f.push({text:t,time:e}),1===f.length&&v(t,e)};exports.side_toaster=p;var v=function t(e,o){var n=document.querySelector(\"div#side-toast\");n.innerHTML=f[0].text,n.style.transform=\"translate(0vh, 0px)\",s=setTimeout(function(){l=null,n.style.transform=\"translate(-100vh,0px)\",(f=a.slice(1)).length>0&&setTimeout(function(){t(e,o)},1e3)},o)},g=function(t,e,o){document.querySelector(\"div#bottom-bar div#button-left\").textContent=t,document.querySelector(\"div#bottom-bar div#button-center\").textContent=e,document.querySelector(\"div#bottom-bar div#button-right\").textContent=o,document.querySelector(\"div#bottom-bar\").style.display=\"\"==t&&\"\"==e&&\"\"==o?\"none\":\"block\"};exports.bottom_bar=g;var m=function(t,e,o){document.querySelector(\"div#top-bar div.button-left\").innerHTML=t,document.querySelector(\"div#top-bar div.button-center\").textContent=e,document.querySelector(\"div#top-bar div.button-right\").textContent=o,document.querySelector(\"div#top-bar\").style.display=\"\"==t&&\"\"==e&&\"\"==o?\"none\":\"block\"};exports.top_bar=m;var y,h=function(t){document.body.appendChild(document.createElement(\"script\")).src=t},x=function(t){if(void 0===window.navigator.requestWakeLock)return!1;\"lock\"==t&&((y=window.navigator.requestWakeLock(\"screen\")).onsuccess=function(){},y.onerror=function(){alert(\"An error occurred: \"+this.error.name)}),\"unlock\"==t&&\"screen\"==y.topic&&y.unlock()};exports.screenlock=x;var b=function(){document.getElementById(\"goodbye\").style.display=\"block\",g(\"\",\"\",\"\"),localStorage.clickcount?localStorage.clickcount=Number(localStorage.clickcount)+1:localStorage.clickcount=1,3e5==localStorage.clickcount?(document.getElementById(\"donation\").style.display=\"block\",setTimeout(function(){localStorage.clickcount=1,window.close()},3e3)):(document.getElementById(\"ciao\").style.display=\"block\",setTimeout(function(){window.close()},2e3))};exports.goodbye=b;var w=function(t){var e=new MozActivity({name:\"pick\",data:{type:[\"image/png\",\"image/jpg\",\"image/jpeg\"]}});e.onsuccess=function(){console.log(\"Activity successfuly handled\");var e=this.result.blob;t(e)},e.onerror=function(){console.log(\"The activity encouter en error: \"+this.error)}};exports.pick_image=w;var S=function(t,e,o){var n=navigator.getDeviceStorages(\"sdcard\")[t].delete(e);n.onsuccess=function(){\"notification\"==o&&u('File \"'+name+'\" successfully deleted frome the sdcard storage area')},n.onerror=function(){u(\"Unable to delete the file: \"+this.error)}};exports.deleteFile=S;var k=function(t,e){if(!navigator.getDeviceStorage)return!1;var o=navigator.getDeviceStorage(\"sdcard\").enumerate();o.onsuccess=function(){if(this.result||console.log(\"finished\"),null!==o.result.name){var n=o.result,r=n.name.split(\".\");r[r.length-1]==t&&e(n.name),this.continue()}},o.onerror=function(){console.warn(\"No file found: \"+this.error)}};function N(t){for(var e=0,o=0;o<t.length;o++)e=~~((e<<5)-e+t.charCodeAt(o));return e}function q(t){var e=(16777215&t).toString(16).toUpperCase();return\"00000\".substring(0,6-e.length)+e}function M(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}function _(t){var e=new MozActivity({name:\"share\",data:{type:\"url\",url:t}});e.onsuccess=function(){},e.onerror=function(){console.log(\"The activity encounter en error: \"+this.error)}}function L(){window.addEventListener(\"offline\",function(){return u(\"Your Browser is offline\",15e3),!1})}function T(t){var e=navigator.getDeviceStorages(\"sdcard\")[1].delete(t);e.onsuccess=function(){},e.onerror=function(){}}function A(t){var e=navigator.getDeviceStorages(\"sdcard\")[1].get(t);e.onsuccess=function(){this.result},e.onerror=function(){}}function C(t,e){var o=navigator.getDeviceStorages(\"sdcard\"),n=new Blob([t],{type:\"text/plain\"}),r=o[1].addNamed(n,e);r.onsuccess=function(){this.result},r.onerror=function(){u(\"Unable to write the file: \"+this.error,2e3)}}exports.list_files=k,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);"},"sourceMaps":null,"error":null,"hash":"06fd2bf6b82dd086a72c08e6bb1ad721","cacheData":{"env":{}}}