{"id":"Wsof","dependencies":[{"name":"/home/strukturart/Desktop/Pages/greg/package.json","includedInParent":true,"mtime":1644872416688},{"name":"/assets/js/helper.js","loc":{"line":1,"column":27,"index":27},"parent":"/home/strukturart/Desktop/Pages/greg/application/assets/js/scan.js","resolved":"/home/strukturart/Desktop/Pages/greg/application/assets/js/helper.js"},{"name":"jsqr","loc":{"line":2,"column":17,"index":68},"parent":"/home/strukturart/Desktop/Pages/greg/application/assets/js/scan.js","resolved":"/home/strukturart/Desktop/Pages/greg/node_modules/jsqr/dist/jsQR.js"},{"name":"../../app.js","loc":{"line":3,"column":23,"index":99},"parent":"/home/strukturart/Desktop/Pages/greg/application/assets/js/scan.js","resolved":"/home/strukturart/Desktop/Pages/greg/application/app.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.stop_scan=exports.start_scan=void 0;var e,t,a=require(\"/assets/js/helper.js\"),o=n(require(\"jsqr\")),r=require(\"../../app.js\");function n(e){return e&&e.__esModule?e:{default:e}}var s=function(){document.getElementById(\"qr-screen\").style.display=\"none\",(0,a.bottom_bar)(\"QR\",\"save\",\"chancel\")};exports.stop_scan=s;var i=function(a){document.getElementById(\"qr-screen\").style.display=\"block\",console.log(\"start\"),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({audio:!1,video:{width:200,height:200}},function(r){(e=document.querySelector(\"video\")).srcObject=r,e.onloadedmetadata=function(r){e.play();var n=document.createElement(\"canvas\");t=setInterval(function(){n.width=e.videoWidth,n.height=e.videoHeight;var r=n.getContext(\"2d\"),i=Math.max(1,Math.floor(e.videoWidth)),d=Math.max(1,Math.floor(e.videoHeight));r.drawImage(e,0,0,i,d);var c=r.getImageData(0,0,i,d).data,l=(0,o.default)(c,i,d);console.log(l),l&&(s(),a(l.data),clearInterval(t))},1e3)}},function(e){console.log(\"The following error occurred: \"+e.name)}):console.log(\"getUserMedia not supported\")};exports.start_scan=i;"},"sourceMaps":{"js":{"mappings":[{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":0}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":13}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":20}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":35}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":43}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":56}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":57}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":64}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":68}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":76}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":86}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":94}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":110}},{"source":"assets/js/scan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":112}},{"source":"assets/js/scan.js","name":"video","original":{"line":5,"column":4},"generated":{"line":1,"column":116}},{"source":"assets/js/scan.js","name":"intv","original":{"line":6,"column":4},"generated":{"line":1,"column":118}},{"source":"assets/js/scan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":120}},{"source":"assets/js/scan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":122}},{"source":"assets/js/scan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":130}},{"source":"assets/js/scan.js","original":{"line":2,"column":0},"generated":{"line":1,"column":154}},{"source":"assets/js/scan.js","original":{"line":2,"column":0},"generated":{"line":1,"column":156}},{"source":"assets/js/scan.js","original":{"line":2,"column":0},"generated":{"line":1,"column":158}},{"source":"assets/js/scan.js","original":{"line":2,"column":0},"generated":{"line":1,"column":166}},{"source":"assets/js/scan.js","original":{"line":3,"column":0},"generated":{"line":1,"column":175}},{"source":"assets/js/scan.js","original":{"line":3,"column":0},"generated":{"line":1,"column":177}},{"source":"assets/js/scan.js","original":{"line":3,"column":0},"generated":{"line":1,"column":185}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":201}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":210}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":212}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":215}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":222}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":225}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":227}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":238}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":240}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":241}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":249}},{"source":"assets/js/scan.js","original":{"line":8,"column":7},"generated":{"line":1,"column":252}},{"source":"assets/js/scan.js","name":"stop_scan","original":{"line":8,"column":11},"generated":{"line":1,"column":256}},{"source":"assets/js/scan.js","original":{"line":8,"column":23},"generated":{"line":1,"column":258}},{"source":"assets/js/scan.js","name":"document","original":{"line":11,"column":2},"generated":{"line":1,"column":269}},{"source":"assets/js/scan.js","name":"getElementById","original":{"line":11,"column":11},"generated":{"line":1,"column":278}},{"source":"assets/js/scan.js","original":{"line":11,"column":26},"generated":{"line":1,"column":293}},{"source":"assets/js/scan.js","name":"style","original":{"line":11,"column":39},"generated":{"line":1,"column":306}},{"source":"assets/js/scan.js","name":"display","original":{"line":11,"column":45},"generated":{"line":1,"column":312}},{"source":"assets/js/scan.js","original":{"line":11,"column":55},"generated":{"line":1,"column":320}},{"source":"assets/js/scan.js","original":{"line":24,"column":13},"generated":{"line":1,"column":328}},{"source":"assets/js/scan.js","original":{"line":24,"column":13},"generated":{"line":1,"column":330}},{"source":"assets/js/scan.js","original":{"line":24,"column":13},"generated":{"line":1,"column":332}},{"source":"assets/js/scan.js","original":{"line":24,"column":13},"generated":{"line":1,"column":344}},{"source":"assets/js/scan.js","original":{"line":24,"column":19},"generated":{"line":1,"column":349}},{"source":"assets/js/scan.js","original":{"line":24,"column":27},"generated":{"line":1,"column":356}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":368}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":376}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":386}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":388}},{"source":"assets/js/scan.js","name":"start_scan","original":{"line":27,"column":11},"generated":{"line":1,"column":392}},{"source":"assets/js/scan.js","original":{"line":27,"column":24},"generated":{"line":1,"column":394}},{"source":"assets/js/scan.js","name":"callback","original":{"line":27,"column":34},"generated":{"line":1,"column":403}},{"source":"assets/js/scan.js","name":"document","original":{"line":28,"column":2},"generated":{"line":1,"column":406}},{"source":"assets/js/scan.js","name":"getElementById","original":{"line":28,"column":11},"generated":{"line":1,"column":415}},{"source":"assets/js/scan.js","original":{"line":28,"column":26},"generated":{"line":1,"column":430}},{"source":"assets/js/scan.js","name":"style","original":{"line":28,"column":39},"generated":{"line":1,"column":443}},{"source":"assets/js/scan.js","name":"display","original":{"line":28,"column":45},"generated":{"line":1,"column":449}},{"source":"assets/js/scan.js","original":{"line":28,"column":55},"generated":{"line":1,"column":457}},{"source":"assets/js/scan.js","name":"console","original":{"line":29,"column":2},"generated":{"line":1,"column":465}},{"source":"assets/js/scan.js","name":"log","original":{"line":29,"column":10},"generated":{"line":1,"column":473}},{"source":"assets/js/scan.js","original":{"line":29,"column":14},"generated":{"line":1,"column":477}},{"source":"assets/js/scan.js","name":"navigator","original":{"line":31,"column":2},"generated":{"line":1,"column":486}},{"source":"assets/js/scan.js","name":"getUserMedia","original":{"line":31,"column":12},"generated":{"line":1,"column":496}},{"source":"assets/js/scan.js","name":"navigator","original":{"line":32,"column":4},"generated":{"line":1,"column":509}},{"source":"assets/js/scan.js","name":"getUserMedia","original":{"line":32,"column":14},"generated":{"line":1,"column":519}},{"source":"assets/js/scan.js","name":"navigator","original":{"line":33,"column":4},"generated":{"line":1,"column":533}},{"source":"assets/js/scan.js","name":"webkitGetUserMedia","original":{"line":33,"column":14},"generated":{"line":1,"column":543}},{"source":"assets/js/scan.js","name":"navigator","original":{"line":34,"column":4},"generated":{"line":1,"column":563}},{"source":"assets/js/scan.js","name":"mozGetUserMedia","original":{"line":34,"column":14},"generated":{"line":1,"column":573}},{"source":"assets/js/scan.js","name":"navigator","original":{"line":36,"column":6},"generated":{"line":1,"column":589}},{"source":"assets/js/scan.js","name":"getUserMedia","original":{"line":36,"column":16},"generated":{"line":1,"column":599}},{"source":"assets/js/scan.js","name":"navigator","original":{"line":37,"column":4},"generated":{"line":1,"column":612}},{"source":"assets/js/scan.js","name":"getUserMedia","original":{"line":37,"column":14},"generated":{"line":1,"column":622}},{"source":"assets/js/scan.js","original":{"line":38,"column":6},"generated":{"line":1,"column":635}},{"source":"assets/js/scan.js","name":"audio","original":{"line":39,"column":8},"generated":{"line":1,"column":636}},{"source":"assets/js/scan.js","original":{"line":39,"column":15},"generated":{"line":1,"column":643}},{"source":"assets/js/scan.js","name":"video","original":{"line":40,"column":8},"generated":{"line":1,"column":645}},{"source":"assets/js/scan.js","original":{"line":40,"column":15},"generated":{"line":1,"column":651}},{"source":"assets/js/scan.js","name":"width","original":{"line":41,"column":10},"generated":{"line":1,"column":652}},{"source":"assets/js/scan.js","original":{"line":41,"column":17},"generated":{"line":1,"column":658}},{"source":"assets/js/scan.js","name":"height","original":{"line":42,"column":10},"generated":{"line":1,"column":662}},{"source":"assets/js/scan.js","original":{"line":42,"column":18},"generated":{"line":1,"column":669}},{"source":"assets/js/scan.js","original":{"line":45,"column":6},"generated":{"line":1,"column":675}},{"source":"assets/js/scan.js","name":"stream","original":{"line":45,"column":16},"generated":{"line":1,"column":684}},{"source":"assets/js/scan.js","name":"video","original":{"line":46,"column":8},"generated":{"line":1,"column":688}},{"source":"assets/js/scan.js","name":"document","original":{"line":46,"column":16},"generated":{"line":1,"column":690}},{"source":"assets/js/scan.js","name":"querySelector","original":{"line":46,"column":25},"generated":{"line":1,"column":699}},{"source":"assets/js/scan.js","original":{"line":46,"column":39},"generated":{"line":1,"column":713}},{"source":"assets/js/scan.js","name":"srcObject","original":{"line":47,"column":14},"generated":{"line":1,"column":723}},{"source":"assets/js/scan.js","name":"stream","original":{"line":47,"column":26},"generated":{"line":1,"column":733}},{"source":"assets/js/scan.js","name":"video","original":{"line":49,"column":8},"generated":{"line":1,"column":735}},{"source":"assets/js/scan.js","name":"onloadedmetadata","original":{"line":49,"column":14},"generated":{"line":1,"column":737}},{"source":"assets/js/scan.js","original":{"line":49,"column":33},"generated":{"line":1,"column":754}},{"source":"assets/js/scan.js","name":"e","original":{"line":49,"column":43},"generated":{"line":1,"column":763}},{"source":"assets/js/scan.js","name":"video","original":{"line":50,"column":10},"generated":{"line":1,"column":766}},{"source":"assets/js/scan.js","name":"play","original":{"line":50,"column":16},"generated":{"line":1,"column":768}},{"source":"assets/js/scan.js","name":"barcodeCanvas","original":{"line":52,"column":14},"generated":{"line":1,"column":775}},{"source":"assets/js/scan.js","name":"barcodeCanvas","original":{"line":52,"column":14},"generated":{"line":1,"column":779}},{"source":"assets/js/scan.js","name":"document","original":{"line":52,"column":30},"generated":{"line":1,"column":781}},{"source":"assets/js/scan.js","name":"createElement","original":{"line":52,"column":39},"generated":{"line":1,"column":790}},{"source":"assets/js/scan.js","original":{"line":52,"column":53},"generated":{"line":1,"column":804}},{"source":"assets/js/scan.js","name":"intv","original":{"line":53,"column":10},"generated":{"line":1,"column":814}},{"source":"assets/js/scan.js","name":"setInterval","original":{"line":53,"column":17},"generated":{"line":1,"column":816}},{"source":"assets/js/scan.js","original":{"line":53,"column":29},"generated":{"line":1,"column":828}},{"source":"assets/js/scan.js","name":"barcodeCanvas","original":{"line":54,"column":12},"generated":{"line":1,"column":839}},{"source":"assets/js/scan.js","name":"width","original":{"line":54,"column":26},"generated":{"line":1,"column":841}},{"source":"assets/js/scan.js","name":"video","original":{"line":54,"column":34},"generated":{"line":1,"column":847}},{"source":"assets/js/scan.js","name":"videoWidth","original":{"line":54,"column":40},"generated":{"line":1,"column":849}},{"source":"assets/js/scan.js","name":"barcodeCanvas","original":{"line":55,"column":12},"generated":{"line":1,"column":860}},{"source":"assets/js/scan.js","name":"height","original":{"line":55,"column":26},"generated":{"line":1,"column":862}},{"source":"assets/js/scan.js","name":"video","original":{"line":55,"column":35},"generated":{"line":1,"column":869}},{"source":"assets/js/scan.js","name":"videoHeight","original":{"line":55,"column":41},"generated":{"line":1,"column":871}},{"source":"assets/js/scan.js","name":"barcodeContext","original":{"line":56,"column":16},"generated":{"line":1,"column":883}},{"source":"assets/js/scan.js","name":"barcodeContext","original":{"line":56,"column":16},"generated":{"line":1,"column":887}},{"source":"assets/js/scan.js","name":"barcodeCanvas","original":{"line":56,"column":33},"generated":{"line":1,"column":889}},{"source":"assets/js/scan.js","name":"getContext","original":{"line":56,"column":47},"generated":{"line":1,"column":891}},{"source":"assets/js/scan.js","original":{"line":56,"column":58},"generated":{"line":1,"column":902}},{"source":"assets/js/scan.js","name":"imageWidth","original":{"line":57,"column":16},"generated":{"line":1,"column":908}},{"source":"assets/js/scan.js","name":"Math","original":{"line":57,"column":29},"generated":{"line":1,"column":910}},{"source":"assets/js/scan.js","name":"max","original":{"line":57,"column":34},"generated":{"line":1,"column":915}},{"source":"assets/js/scan.js","original":{"line":57,"column":38},"generated":{"line":1,"column":919}},{"source":"assets/js/scan.js","name":"Math","original":{"line":57,"column":41},"generated":{"line":1,"column":921}},{"source":"assets/js/scan.js","name":"floor","original":{"line":57,"column":46},"generated":{"line":1,"column":926}},{"source":"assets/js/scan.js","name":"video","original":{"line":57,"column":52},"generated":{"line":1,"column":932}},{"source":"assets/js/scan.js","name":"videoWidth","original":{"line":57,"column":58},"generated":{"line":1,"column":934}},{"source":"assets/js/scan.js","name":"imageHeight","original":{"line":58,"column":14},"generated":{"line":1,"column":947}},{"source":"assets/js/scan.js","name":"Math","original":{"line":58,"column":28},"generated":{"line":1,"column":949}},{"source":"assets/js/scan.js","name":"max","original":{"line":58,"column":33},"generated":{"line":1,"column":954}},{"source":"assets/js/scan.js","original":{"line":58,"column":37},"generated":{"line":1,"column":958}},{"source":"assets/js/scan.js","name":"Math","original":{"line":58,"column":40},"generated":{"line":1,"column":960}},{"source":"assets/js/scan.js","name":"floor","original":{"line":58,"column":45},"generated":{"line":1,"column":965}},{"source":"assets/js/scan.js","name":"video","original":{"line":58,"column":51},"generated":{"line":1,"column":971}},{"source":"assets/js/scan.js","name":"videoHeight","original":{"line":58,"column":57},"generated":{"line":1,"column":973}},{"source":"assets/js/scan.js","name":"barcodeContext","original":{"line":60,"column":12},"generated":{"line":1,"column":987}},{"source":"assets/js/scan.js","name":"drawImage","original":{"line":60,"column":27},"generated":{"line":1,"column":989}},{"source":"assets/js/scan.js","name":"video","original":{"line":60,"column":37},"generated":{"line":1,"column":999}},{"source":"assets/js/scan.js","original":{"line":60,"column":44},"generated":{"line":1,"column":1001}},{"source":"assets/js/scan.js","original":{"line":60,"column":47},"generated":{"line":1,"column":1003}},{"source":"assets/js/scan.js","name":"imageWidth","original":{"line":60,"column":50},"generated":{"line":1,"column":1005}},{"source":"assets/js/scan.js","name":"imageHeight","original":{"line":60,"column":62},"generated":{"line":1,"column":1007}},{"source":"assets/js/scan.js","name":"imageData","original":{"line":62,"column":16},"generated":{"line":1,"column":1010}},{"source":"assets/js/scan.js","name":"idd","original":{"line":68,"column":16},"generated":{"line":1,"column":1014}},{"source":"assets/js/scan.js","name":"barcodeContext","original":{"line":62,"column":28},"generated":{"line":1,"column":1016}},{"source":"assets/js/scan.js","name":"getImageData","original":{"line":62,"column":43},"generated":{"line":1,"column":1018}},{"source":"assets/js/scan.js","original":{"line":63,"column":14},"generated":{"line":1,"column":1031}},{"source":"assets/js/scan.js","original":{"line":64,"column":14},"generated":{"line":1,"column":1033}},{"source":"assets/js/scan.js","name":"imageWidth","original":{"line":65,"column":14},"generated":{"line":1,"column":1035}},{"source":"assets/js/scan.js","name":"imageHeight","original":{"line":66,"column":14},"generated":{"line":1,"column":1037}},{"source":"assets/js/scan.js","name":"data","original":{"line":68,"column":32},"generated":{"line":1,"column":1040}},{"source":"assets/js/scan.js","name":"code","original":{"line":70,"column":16},"generated":{"line":1,"column":1045}},{"source":"assets/js/scan.js","original":{"line":70,"column":23},"generated":{"line":1,"column":1048}},{"source":"assets/js/scan.js","name":"idd","original":{"line":70,"column":28},"generated":{"line":1,"column":1050}},{"source":"assets/js/scan.js","name":"idd","original":{"line":70,"column":28},"generated":{"line":1,"column":1052}},{"source":"assets/js/scan.js","name":"idd","original":{"line":70,"column":28},"generated":{"line":1,"column":1061}},{"source":"assets/js/scan.js","name":"imageWidth","original":{"line":70,"column":33},"generated":{"line":1,"column":1063}},{"source":"assets/js/scan.js","name":"imageHeight","original":{"line":70,"column":45},"generated":{"line":1,"column":1065}},{"source":"assets/js/scan.js","name":"console","original":{"line":71,"column":12},"generated":{"line":1,"column":1068}},{"source":"assets/js/scan.js","name":"log","original":{"line":71,"column":20},"generated":{"line":1,"column":1076}},{"source":"assets/js/scan.js","name":"code","original":{"line":71,"column":24},"generated":{"line":1,"column":1080}},{"source":"assets/js/scan.js","name":"code","original":{"line":73,"column":16},"generated":{"line":1,"column":1083}},{"source":"assets/js/scan.js","name":"stop_scan","original":{"line":74,"column":14},"generated":{"line":1,"column":1087}},{"source":"assets/js/scan.js","name":"callback","original":{"line":75,"column":14},"generated":{"line":1,"column":1091}},{"source":"assets/js/scan.js","name":"code","original":{"line":75,"column":23},"generated":{"line":1,"column":1093}},{"source":"assets/js/scan.js","name":"data","original":{"line":75,"column":28},"generated":{"line":1,"column":1095}},{"source":"assets/js/scan.js","name":"clearInterval","original":{"line":76,"column":14},"generated":{"line":1,"column":1101}},{"source":"assets/js/scan.js","name":"intv","original":{"line":76,"column":28},"generated":{"line":1,"column":1115}},{"source":"assets/js/scan.js","original":{"line":78,"column":13},"generated":{"line":1,"column":1120}},{"source":"assets/js/scan.js","original":{"line":81,"column":6},"generated":{"line":1,"column":1127}},{"source":"assets/js/scan.js","name":"err","original":{"line":81,"column":16},"generated":{"line":1,"column":1136}},{"source":"assets/js/scan.js","name":"console","original":{"line":82,"column":8},"generated":{"line":1,"column":1139}},{"source":"assets/js/scan.js","name":"log","original":{"line":82,"column":16},"generated":{"line":1,"column":1147}},{"source":"assets/js/scan.js","original":{"line":82,"column":20},"generated":{"line":1,"column":1151}},{"source":"assets/js/scan.js","name":"err","original":{"line":82,"column":55},"generated":{"line":1,"column":1184}},{"source":"assets/js/scan.js","name":"name","original":{"line":82,"column":59},"generated":{"line":1,"column":1186}},{"source":"assets/js/scan.js","name":"console","original":{"line":86,"column":4},"generated":{"line":1,"column":1194}},{"source":"assets/js/scan.js","name":"log","original":{"line":86,"column":12},"generated":{"line":1,"column":1202}},{"source":"assets/js/scan.js","original":{"line":86,"column":16},"generated":{"line":1,"column":1206}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":1237}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":1245}},{"source":"assets/js/scan.js","original":{"line":27,"column":7},"generated":{"line":1,"column":1256}}],"sources":{"assets/js/scan.js":"import { bottom_bar } from \"/assets/js/helper.js\";\nimport jsQR from \"jsqr\";\nimport { status } from \"../../app.js\";\n\nlet video;\nlet intv;\n\nexport let stop_scan = function () {\n  // status.views = \"subscription\";\n\n  document.getElementById(\"qr-screen\").style.display = \"none\";\n  /*\n  const stream = video.srcObject;\n  const tracks = stream.getTracks();\n\n  tracks.forEach(function (track) {\n    track.stop();\n    document.getElementById(\"qr-screen\").style.display = \"none\";\n  });\n\n  video.srcObject = null;\n  */\n\n  bottom_bar(\"QR\", \"save\", \"chancel\");\n};\n\nexport let start_scan = function (callback) {\n  document.getElementById(\"qr-screen\").style.display = \"block\";\n  console.log(\"start\");\n\n  navigator.getUserMedia =\n    navigator.getUserMedia ||\n    navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia;\n\n  if (navigator.getUserMedia) {\n    navigator.getUserMedia(\n      {\n        audio: false,\n        video: {\n          width: 200,\n          height: 200,\n        },\n      },\n      function (stream) {\n        video = document.querySelector(\"video\");\n        video.srcObject = stream;\n\n        video.onloadedmetadata = function (e) {\n          video.play();\n\n          var barcodeCanvas = document.createElement(\"canvas\");\n          intv = setInterval(() => {\n            barcodeCanvas.width = video.videoWidth;\n            barcodeCanvas.height = video.videoHeight;\n            var barcodeContext = barcodeCanvas.getContext(\"2d\");\n            var imageWidth = Math.max(1, Math.floor(video.videoWidth)),\n              imageHeight = Math.max(1, Math.floor(video.videoHeight));\n\n            barcodeContext.drawImage(video, 0, 0, imageWidth, imageHeight);\n\n            var imageData = barcodeContext.getImageData(\n              0,\n              0,\n              imageWidth,\n              imageHeight\n            );\n            var idd = imageData.data;\n\n            let code = jsQR(idd, imageWidth, imageHeight);\n            console.log(code);\n\n            if (code) {\n              stop_scan();\n              callback(code.data);\n              clearInterval(intv);\n            }\n          }, 1000);\n        };\n      },\n      function (err) {\n        console.log(\"The following error occurred: \" + err.name);\n      }\n    );\n  } else {\n    console.log(\"getUserMedia not supported\");\n  }\n};\n"},"lineCount":null}},"error":null,"hash":"06ab68746ac4bdf3eccbe022ce893b5c","cacheData":{"env":{}}}