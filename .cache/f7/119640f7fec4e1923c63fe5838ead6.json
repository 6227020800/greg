{"id":"Op5i","dependencies":[{"name":"/home/strukturart/Desktop/Pages/greg/package.json","includedInParent":true,"mtime":1644566876226}],"generated":{"js":"var e=e||{};e.Finder=function(e){this.options=e||{},this.type=this.options.type||\"sdcard\",this.hidden=this.options.hidden||!1,this.casesensitive=this.options.caseSensitive||!1,this.minsearchlength=this.options.minSearchLength&&\"number\"==typeof this.options.minSearchLength?e.minSearchLength:3,this.debugmode=!!this.options.debugMode,this.storages=navigator.getDeviceStorages&&navigator.getDeviceStorages(this.type),this.searchcompletecount=0,this.filematchcount=0,this.searchkey=\"\"},e.Finder.prototype=new EventEmitter,e.Finder.prototype.checkhidden=function(e){return\"/\"!==e[e.indexOf(\".\")-1]||!0===this.hidden},e.Finder.prototype.search=function(e){var t=this;return t.reset(),t.searchkey=t.casesensitive?e.trim():e.trim().toLowerCase(),t.searchkey.length<t.minsearchlength?(t.log(\"searchCancelled\",[\"Search string should be at least \"+t.minsearchlength+\" characters\"]),t.emitEvent(\"searchCancelled\",[\"Search string should be at least \"+t.minsearchlength+\" characters\"]),null):t.storagecount()<1?(t.log(\"empty\",[t.searchkey]),t.emitEvent(\"empty\",[t.searchkey]),null):(t.log(\"searchBegin\",[t.searchkey]),t.emitEvent(\"searchBegin\",[t.searchkey]),void t.storages.forEach(function(e){var r=e.enumerate();t.log(\"storageSearchBegin\",[e.storageName,t.searchkey]),t.emitEvent(\"storageSearchBegin\",[e.storageName,t.searchkey]),r.onsuccess=function(){if(this.result){var r=this.result,s=t.splitname(r.name);t.matchname(s.name,r.name)&&(t.filematchcount++,t.log(\"fileFound\",[r,s,e.storageName]),t.emitEvent(\"fileFound\",[r,s,e.storageName])),this.done?(t.searchcompletecount++,t.log(\"storageSearchComplete\",[e.storageName,t.searchkey]),t.emitEvent(\"storageSearchComplete\",[e.storageName,t.searchkey])):this.continue()}else t.searchcompletecount++,t.log(\"storageSearchComplete\",[e.storageName,t.searchkey]),t.emitEvent(\"storageSearchComplete\",[e.storageName,t.searchkey]);t.searchcompletecount===t.storagecount()&&(t.log(\"searchComplete\",[t.searchkey,t.filematchcount]),t.emitEvent(\"searchComplete\",[t.searchkey,t.filematchcount]))},r.onerror=function(){t.log(\"error\",[\"Error accessing device storage '\"+e.storageName+\"'\",this.error]),t.emitEvent(\"error\",[\"Error accessing device storage '\"+e.storageName+\"'\",this.error])}}))},e.Finder.prototype.splitname=function(e){return{name:(e=e.split(/[\\\\/]/)).pop(),path:e.join(\"/\")}},e.Finder.prototype.storagecount=function(){return this.storages&&this.storages.length?this.storages.length:0},e.Finder.prototype.reset=function(){this.filematchcount=0,this.searchcompletecount=0,this.searchkey=\"\"},e.Finder.prototype.log=function(e,t){this.debugmode&&console.log(e,t)},e.Finder.prototype.matchname=function(e,t){return(e=this.casesensitive?e.trim():e.trim().toLowerCase()).indexOf(this.searchkey)>-1&&this.checkhidden(t)};"},"sourceMaps":null,"error":null,"hash":"a2bc2893c529813f569cc8574cac5fe9","cacheData":{"env":{}}}