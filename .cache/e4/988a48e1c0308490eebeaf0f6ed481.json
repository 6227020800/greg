{"id":"assets/js/scan.js","dependencies":[{"name":"/home/strukturart/Desktop/Pages/greg/package.json","includedInParent":true,"mtime":1645017985810},{"name":"jsqr","loc":{"line":1,"column":17,"index":17},"parent":"/home/strukturart/Desktop/Pages/greg/application/assets/js/scan.js","resolved":"/home/strukturart/Desktop/Pages/greg/node_modules/jsqr/dist/jsQR.js"},{"name":"../../app.js","loc":{"line":2,"column":23,"index":48},"parent":"/home/strukturart/Desktop/Pages/greg/application/assets/js/scan.js","resolved":"/home/strukturart/Desktop/Pages/greg/application/app.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.stop_scan = exports.start_scan = void 0;\n\nvar _jsqr = _interopRequireDefault(require(\"jsqr\"));\n\nvar _app = require(\"../../app.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar video;\nvar intv;\n\nvar stop_scan = function stop_scan() {\n  document.getElementById(\"qr-screen\").style.display = \"none\";\n  document.getElementById(\"cal-subs-url\").focus();\n  _app.status.view = \"subscription\";\n  console.log(\"yeah\");\n};\n\nexports.stop_scan = stop_scan;\n\nvar start_scan = function start_scan(callback) {\n  document.getElementById(\"qr-screen\").style.display = \"block\";\n  console.log(\"start\");\n  navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n\n  if (navigator.getUserMedia) {\n    navigator.getUserMedia({\n      audio: false,\n      video: {\n        width: 200,\n        height: 200\n      }\n    }, function (stream) {\n      video = document.querySelector(\"video\");\n      video.srcObject = stream;\n\n      video.onloadedmetadata = function (e) {\n        video.play();\n        var barcodeCanvas = document.createElement(\"canvas\");\n        intv = setInterval(function () {\n          barcodeCanvas.width = video.videoWidth;\n          barcodeCanvas.height = video.videoHeight;\n          var barcodeContext = barcodeCanvas.getContext(\"2d\");\n          var imageWidth = Math.max(1, Math.floor(video.videoWidth)),\n              imageHeight = Math.max(1, Math.floor(video.videoHeight));\n          barcodeContext.drawImage(video, 0, 0, imageWidth, imageHeight);\n          var imageData = barcodeContext.getImageData(0, 0, imageWidth, imageHeight);\n          var idd = imageData.data;\n          var code = (0, _jsqr.default)(idd, imageWidth, imageHeight);\n          console.log(code);\n\n          if (code) {\n            stop_scan();\n            callback(code.data);\n            clearInterval(intv);\n          }\n        }, 1000);\n      };\n    }, function (err) {\n      console.log(\"The following error occurred: \" + err.name);\n    });\n  } else {\n    console.log(\"getUserMedia not supported\");\n  }\n};\n\nexports.start_scan = start_scan;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"assets/js/scan.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"assets/js/scan.js","original":{"line":2,"column":0}},{"generated":{"line":14,"column":0},"source":"assets/js/scan.js","original":{"line":4,"column":0}},{"name":"video","generated":{"line":14,"column":4},"source":"assets/js/scan.js","original":{"line":4,"column":4}},{"generated":{"line":14,"column":9},"source":"assets/js/scan.js","original":{"line":4,"column":0}},{"generated":{"line":15,"column":0},"source":"assets/js/scan.js","original":{"line":5,"column":0}},{"name":"intv","generated":{"line":15,"column":4},"source":"assets/js/scan.js","original":{"line":5,"column":4}},{"generated":{"line":15,"column":8},"source":"assets/js/scan.js","original":{"line":5,"column":0}},{"generated":{"line":17,"column":0},"source":"assets/js/scan.js","original":{"line":7,"column":7}},{"name":"stop_scan","generated":{"line":17,"column":4},"source":"assets/js/scan.js","original":{"line":7,"column":11}},{"generated":{"line":17,"column":13},"source":"assets/js/scan.js","original":{"line":7,"column":20}},{"generated":{"line":17,"column":16},"source":"assets/js/scan.js","original":{"line":7,"column":23}},{"name":"stop_scan","generated":{"line":17,"column":25},"source":"assets/js/scan.js","original":{"line":7,"column":11}},{"generated":{"line":17,"column":34},"source":"assets/js/scan.js","original":{"line":7,"column":23}},{"generated":{"line":17,"column":37},"source":"assets/js/scan.js","original":{"line":7,"column":35}},{"name":"document","generated":{"line":18,"column":0},"source":"assets/js/scan.js","original":{"line":8,"column":2}},{"name":"document","generated":{"line":18,"column":2},"source":"assets/js/scan.js","original":{"line":8,"column":2}},{"generated":{"line":18,"column":10},"source":"assets/js/scan.js","original":{"line":8,"column":10}},{"name":"getElementById","generated":{"line":18,"column":11},"source":"assets/js/scan.js","original":{"line":8,"column":11}},{"generated":{"line":18,"column":25},"source":"assets/js/scan.js","original":{"line":8,"column":2}},{"generated":{"line":18,"column":26},"source":"assets/js/scan.js","original":{"line":8,"column":26}},{"generated":{"line":18,"column":37},"source":"assets/js/scan.js","original":{"line":8,"column":2}},{"name":"style","generated":{"line":18,"column":39},"source":"assets/js/scan.js","original":{"line":8,"column":39}},{"generated":{"line":18,"column":44},"source":"assets/js/scan.js","original":{"line":8,"column":2}},{"name":"display","generated":{"line":18,"column":45},"source":"assets/js/scan.js","original":{"line":8,"column":45}},{"generated":{"line":18,"column":52},"source":"assets/js/scan.js","original":{"line":8,"column":2}},{"generated":{"line":18,"column":55},"source":"assets/js/scan.js","original":{"line":8,"column":55}},{"generated":{"line":18,"column":61},"source":"assets/js/scan.js","original":{"line":8,"column":2}},{"name":"document","generated":{"line":19,"column":0},"source":"assets/js/scan.js","original":{"line":10,"column":2}},{"name":"document","generated":{"line":19,"column":2},"source":"assets/js/scan.js","original":{"line":10,"column":2}},{"generated":{"line":19,"column":10},"source":"assets/js/scan.js","original":{"line":10,"column":10}},{"name":"getElementById","generated":{"line":19,"column":11},"source":"assets/js/scan.js","original":{"line":10,"column":11}},{"generated":{"line":19,"column":25},"source":"assets/js/scan.js","original":{"line":10,"column":2}},{"generated":{"line":19,"column":26},"source":"assets/js/scan.js","original":{"line":10,"column":26}},{"generated":{"line":19,"column":40},"source":"assets/js/scan.js","original":{"line":10,"column":2}},{"name":"focus","generated":{"line":19,"column":42},"source":"assets/js/scan.js","original":{"line":10,"column":42}},{"generated":{"line":19,"column":47},"source":"assets/js/scan.js","original":{"line":10,"column":2}},{"name":"status","generated":{"line":20,"column":0},"source":"assets/js/scan.js","original":{"line":11,"column":2}},{"name":"view","generated":{"line":20,"column":14},"source":"assets/js/scan.js","original":{"line":11,"column":9}},{"generated":{"line":20,"column":18},"source":"assets/js/scan.js","original":{"line":11,"column":2}},{"generated":{"line":20,"column":21},"source":"assets/js/scan.js","original":{"line":11,"column":16}},{"generated":{"line":20,"column":35},"source":"assets/js/scan.js","original":{"line":11,"column":2}},{"name":"console","generated":{"line":21,"column":0},"source":"assets/js/scan.js","original":{"line":12,"column":2}},{"name":"console","generated":{"line":21,"column":2},"source":"assets/js/scan.js","original":{"line":12,"column":2}},{"generated":{"line":21,"column":9},"source":"assets/js/scan.js","original":{"line":12,"column":9}},{"name":"log","generated":{"line":21,"column":10},"source":"assets/js/scan.js","original":{"line":12,"column":10}},{"generated":{"line":21,"column":13},"source":"assets/js/scan.js","original":{"line":12,"column":2}},{"generated":{"line":21,"column":14},"source":"assets/js/scan.js","original":{"line":12,"column":14}},{"generated":{"line":21,"column":20},"source":"assets/js/scan.js","original":{"line":12,"column":2}},{"generated":{"line":22,"column":0},"source":"assets/js/scan.js","original":{"line":13,"column":1}},{"generated":{"line":22,"column":1},"source":"assets/js/scan.js","original":{"line":7,"column":7}},{"generated":{"line":26,"column":0},"source":"assets/js/scan.js","original":{"line":15,"column":7}},{"name":"start_scan","generated":{"line":26,"column":4},"source":"assets/js/scan.js","original":{"line":15,"column":11}},{"generated":{"line":26,"column":14},"source":"assets/js/scan.js","original":{"line":15,"column":21}},{"generated":{"line":26,"column":17},"source":"assets/js/scan.js","original":{"line":15,"column":24}},{"name":"start_scan","generated":{"line":26,"column":26},"source":"assets/js/scan.js","original":{"line":15,"column":11}},{"generated":{"line":26,"column":36},"source":"assets/js/scan.js","original":{"line":15,"column":24}},{"name":"callback","generated":{"line":26,"column":37},"source":"assets/js/scan.js","original":{"line":15,"column":34}},{"generated":{"line":26,"column":45},"source":"assets/js/scan.js","original":{"line":15,"column":24}},{"generated":{"line":26,"column":47},"source":"assets/js/scan.js","original":{"line":15,"column":44}},{"name":"document","generated":{"line":27,"column":0},"source":"assets/js/scan.js","original":{"line":16,"column":2}},{"name":"document","generated":{"line":27,"column":2},"source":"assets/js/scan.js","original":{"line":16,"column":2}},{"generated":{"line":27,"column":10},"source":"assets/js/scan.js","original":{"line":16,"column":10}},{"name":"getElementById","generated":{"line":27,"column":11},"source":"assets/js/scan.js","original":{"line":16,"column":11}},{"generated":{"line":27,"column":25},"source":"assets/js/scan.js","original":{"line":16,"column":2}},{"generated":{"line":27,"column":26},"source":"assets/js/scan.js","original":{"line":16,"column":26}},{"generated":{"line":27,"column":37},"source":"assets/js/scan.js","original":{"line":16,"column":2}},{"name":"style","generated":{"line":27,"column":39},"source":"assets/js/scan.js","original":{"line":16,"column":39}},{"generated":{"line":27,"column":44},"source":"assets/js/scan.js","original":{"line":16,"column":2}},{"name":"display","generated":{"line":27,"column":45},"source":"assets/js/scan.js","original":{"line":16,"column":45}},{"generated":{"line":27,"column":52},"source":"assets/js/scan.js","original":{"line":16,"column":2}},{"generated":{"line":27,"column":55},"source":"assets/js/scan.js","original":{"line":16,"column":55}},{"generated":{"line":27,"column":62},"source":"assets/js/scan.js","original":{"line":16,"column":2}},{"name":"console","generated":{"line":28,"column":0},"source":"assets/js/scan.js","original":{"line":17,"column":2}},{"name":"console","generated":{"line":28,"column":2},"source":"assets/js/scan.js","original":{"line":17,"column":2}},{"generated":{"line":28,"column":9},"source":"assets/js/scan.js","original":{"line":17,"column":9}},{"name":"log","generated":{"line":28,"column":10},"source":"assets/js/scan.js","original":{"line":17,"column":10}},{"generated":{"line":28,"column":13},"source":"assets/js/scan.js","original":{"line":17,"column":2}},{"generated":{"line":28,"column":14},"source":"assets/js/scan.js","original":{"line":17,"column":14}},{"generated":{"line":28,"column":21},"source":"assets/js/scan.js","original":{"line":17,"column":2}},{"name":"navigator","generated":{"line":29,"column":0},"source":"assets/js/scan.js","original":{"line":19,"column":2}},{"name":"navigator","generated":{"line":29,"column":2},"source":"assets/js/scan.js","original":{"line":19,"column":2}},{"generated":{"line":29,"column":11},"source":"assets/js/scan.js","original":{"line":19,"column":11}},{"name":"getUserMedia","generated":{"line":29,"column":12},"source":"assets/js/scan.js","original":{"line":19,"column":12}},{"generated":{"line":29,"column":24},"source":"assets/js/scan.js","original":{"line":19,"column":2}},{"name":"navigator","generated":{"line":29,"column":27},"source":"assets/js/scan.js","original":{"line":20,"column":4}},{"generated":{"line":29,"column":36},"source":"assets/js/scan.js","original":{"line":20,"column":13}},{"name":"getUserMedia","generated":{"line":29,"column":37},"source":"assets/js/scan.js","original":{"line":20,"column":14}},{"generated":{"line":29,"column":49},"source":"assets/js/scan.js","original":{"line":20,"column":4}},{"name":"navigator","generated":{"line":29,"column":53},"source":"assets/js/scan.js","original":{"line":21,"column":4}},{"generated":{"line":29,"column":62},"source":"assets/js/scan.js","original":{"line":21,"column":13}},{"name":"webkitGetUserMedia","generated":{"line":29,"column":63},"source":"assets/js/scan.js","original":{"line":21,"column":14}},{"generated":{"line":29,"column":81},"source":"assets/js/scan.js","original":{"line":20,"column":4}},{"name":"navigator","generated":{"line":29,"column":85},"source":"assets/js/scan.js","original":{"line":22,"column":4}},{"generated":{"line":29,"column":94},"source":"assets/js/scan.js","original":{"line":22,"column":13}},{"name":"mozGetUserMedia","generated":{"line":29,"column":95},"source":"assets/js/scan.js","original":{"line":22,"column":14}},{"generated":{"line":29,"column":110},"source":"assets/js/scan.js","original":{"line":19,"column":2}},{"generated":{"line":31,"column":0},"source":"assets/js/scan.js","original":{"line":24,"column":2}},{"name":"navigator","generated":{"line":31,"column":6},"source":"assets/js/scan.js","original":{"line":24,"column":6}},{"generated":{"line":31,"column":15},"source":"assets/js/scan.js","original":{"line":24,"column":15}},{"name":"getUserMedia","generated":{"line":31,"column":16},"source":"assets/js/scan.js","original":{"line":24,"column":16}},{"generated":{"line":31,"column":28},"source":"assets/js/scan.js","original":{"line":24,"column":2}},{"generated":{"line":31,"column":30},"source":"assets/js/scan.js","original":{"line":24,"column":30}},{"name":"navigator","generated":{"line":32,"column":0},"source":"assets/js/scan.js","original":{"line":25,"column":4}},{"name":"navigator","generated":{"line":32,"column":4},"source":"assets/js/scan.js","original":{"line":25,"column":4}},{"generated":{"line":32,"column":13},"source":"assets/js/scan.js","original":{"line":25,"column":13}},{"name":"getUserMedia","generated":{"line":32,"column":14},"source":"assets/js/scan.js","original":{"line":25,"column":14}},{"generated":{"line":32,"column":26},"source":"assets/js/scan.js","original":{"line":25,"column":4}},{"generated":{"line":32,"column":27},"source":"assets/js/scan.js","original":{"line":26,"column":6}},{"name":"audio","generated":{"line":33,"column":0},"source":"assets/js/scan.js","original":{"line":27,"column":8}},{"name":"audio","generated":{"line":33,"column":6},"source":"assets/js/scan.js","original":{"line":27,"column":8}},{"generated":{"line":33,"column":11},"source":"assets/js/scan.js","original":{"line":27,"column":13}},{"generated":{"line":33,"column":13},"source":"assets/js/scan.js","original":{"line":27,"column":15}},{"generated":{"line":33,"column":18},"source":"assets/js/scan.js","original":{"line":26,"column":6}},{"name":"video","generated":{"line":34,"column":0},"source":"assets/js/scan.js","original":{"line":28,"column":8}},{"name":"video","generated":{"line":34,"column":6},"source":"assets/js/scan.js","original":{"line":28,"column":8}},{"generated":{"line":34,"column":11},"source":"assets/js/scan.js","original":{"line":28,"column":13}},{"generated":{"line":34,"column":13},"source":"assets/js/scan.js","original":{"line":28,"column":15}},{"name":"width","generated":{"line":35,"column":0},"source":"assets/js/scan.js","original":{"line":29,"column":10}},{"name":"width","generated":{"line":35,"column":8},"source":"assets/js/scan.js","original":{"line":29,"column":10}},{"generated":{"line":35,"column":13},"source":"assets/js/scan.js","original":{"line":29,"column":15}},{"generated":{"line":35,"column":15},"source":"assets/js/scan.js","original":{"line":29,"column":17}},{"generated":{"line":35,"column":18},"source":"assets/js/scan.js","original":{"line":28,"column":15}},{"name":"height","generated":{"line":36,"column":0},"source":"assets/js/scan.js","original":{"line":30,"column":10}},{"name":"height","generated":{"line":36,"column":8},"source":"assets/js/scan.js","original":{"line":30,"column":10}},{"generated":{"line":36,"column":14},"source":"assets/js/scan.js","original":{"line":30,"column":16}},{"generated":{"line":36,"column":16},"source":"assets/js/scan.js","original":{"line":30,"column":18}},{"generated":{"line":37,"column":0},"source":"assets/js/scan.js","original":{"line":28,"column":15}},{"generated":{"line":38,"column":0},"source":"assets/js/scan.js","original":{"line":26,"column":6}},{"generated":{"line":38,"column":5},"source":"assets/js/scan.js","original":{"line":25,"column":4}},{"generated":{"line":38,"column":7},"source":"assets/js/scan.js","original":{"line":33,"column":6}},{"name":"stream","generated":{"line":38,"column":17},"source":"assets/js/scan.js","original":{"line":33,"column":16}},{"generated":{"line":38,"column":23},"source":"assets/js/scan.js","original":{"line":33,"column":6}},{"generated":{"line":38,"column":25},"source":"assets/js/scan.js","original":{"line":33,"column":24}},{"name":"video","generated":{"line":39,"column":0},"source":"assets/js/scan.js","original":{"line":34,"column":8}},{"name":"video","generated":{"line":39,"column":6},"source":"assets/js/scan.js","original":{"line":34,"column":8}},{"generated":{"line":39,"column":11},"source":"assets/js/scan.js","original":{"line":34,"column":13}},{"name":"document","generated":{"line":39,"column":14},"source":"assets/js/scan.js","original":{"line":34,"column":16}},{"generated":{"line":39,"column":22},"source":"assets/js/scan.js","original":{"line":34,"column":24}},{"name":"querySelector","generated":{"line":39,"column":23},"source":"assets/js/scan.js","original":{"line":34,"column":25}},{"generated":{"line":39,"column":36},"source":"assets/js/scan.js","original":{"line":34,"column":16}},{"generated":{"line":39,"column":37},"source":"assets/js/scan.js","original":{"line":34,"column":39}},{"generated":{"line":39,"column":44},"source":"assets/js/scan.js","original":{"line":34,"column":16}},{"generated":{"line":39,"column":45},"source":"assets/js/scan.js","original":{"line":34,"column":8}},{"name":"video","generated":{"line":40,"column":0},"source":"assets/js/scan.js","original":{"line":35,"column":8}},{"name":"video","generated":{"line":40,"column":6},"source":"assets/js/scan.js","original":{"line":35,"column":8}},{"generated":{"line":40,"column":11},"source":"assets/js/scan.js","original":{"line":35,"column":13}},{"name":"srcObject","generated":{"line":40,"column":12},"source":"assets/js/scan.js","original":{"line":35,"column":14}},{"generated":{"line":40,"column":21},"source":"assets/js/scan.js","original":{"line":35,"column":8}},{"name":"stream","generated":{"line":40,"column":24},"source":"assets/js/scan.js","original":{"line":35,"column":26}},{"generated":{"line":40,"column":30},"source":"assets/js/scan.js","original":{"line":35,"column":8}},{"name":"video","generated":{"line":42,"column":0},"source":"assets/js/scan.js","original":{"line":37,"column":8}},{"name":"video","generated":{"line":42,"column":6},"source":"assets/js/scan.js","original":{"line":37,"column":8}},{"generated":{"line":42,"column":11},"source":"assets/js/scan.js","original":{"line":37,"column":13}},{"name":"onloadedmetadata","generated":{"line":42,"column":12},"source":"assets/js/scan.js","original":{"line":37,"column":14}},{"generated":{"line":42,"column":28},"source":"assets/js/scan.js","original":{"line":37,"column":8}},{"generated":{"line":42,"column":31},"source":"assets/js/scan.js","original":{"line":37,"column":33}},{"name":"e","generated":{"line":42,"column":41},"source":"assets/js/scan.js","original":{"line":37,"column":43}},{"generated":{"line":42,"column":42},"source":"assets/js/scan.js","original":{"line":37,"column":33}},{"generated":{"line":42,"column":44},"source":"assets/js/scan.js","original":{"line":37,"column":46}},{"name":"video","generated":{"line":43,"column":0},"source":"assets/js/scan.js","original":{"line":38,"column":10}},{"name":"video","generated":{"line":43,"column":8},"source":"assets/js/scan.js","original":{"line":38,"column":10}},{"generated":{"line":43,"column":13},"source":"assets/js/scan.js","original":{"line":38,"column":15}},{"name":"play","generated":{"line":43,"column":14},"source":"assets/js/scan.js","original":{"line":38,"column":16}},{"generated":{"line":43,"column":18},"source":"assets/js/scan.js","original":{"line":38,"column":10}},{"generated":{"line":44,"column":0},"source":"assets/js/scan.js","original":{"line":40,"column":10}},{"name":"barcodeCanvas","generated":{"line":44,"column":12},"source":"assets/js/scan.js","original":{"line":40,"column":14}},{"generated":{"line":44,"column":25},"source":"assets/js/scan.js","original":{"line":40,"column":27}},{"name":"document","generated":{"line":44,"column":28},"source":"assets/js/scan.js","original":{"line":40,"column":30}},{"generated":{"line":44,"column":36},"source":"assets/js/scan.js","original":{"line":40,"column":38}},{"name":"createElement","generated":{"line":44,"column":37},"source":"assets/js/scan.js","original":{"line":40,"column":39}},{"generated":{"line":44,"column":50},"source":"assets/js/scan.js","original":{"line":40,"column":30}},{"generated":{"line":44,"column":51},"source":"assets/js/scan.js","original":{"line":40,"column":53}},{"generated":{"line":44,"column":59},"source":"assets/js/scan.js","original":{"line":40,"column":30}},{"generated":{"line":44,"column":60},"source":"assets/js/scan.js","original":{"line":40,"column":10}},{"name":"intv","generated":{"line":45,"column":0},"source":"assets/js/scan.js","original":{"line":41,"column":10}},{"name":"intv","generated":{"line":45,"column":8},"source":"assets/js/scan.js","original":{"line":41,"column":10}},{"generated":{"line":45,"column":12},"source":"assets/js/scan.js","original":{"line":41,"column":14}},{"name":"setInterval","generated":{"line":45,"column":15},"source":"assets/js/scan.js","original":{"line":41,"column":17}},{"generated":{"line":45,"column":26},"source":"assets/js/scan.js","original":{"line":41,"column":28}},{"generated":{"line":45,"column":27},"source":"assets/js/scan.js","original":{"line":41,"column":29}},{"generated":{"line":45,"column":39},"source":"assets/js/scan.js","original":{"line":41,"column":35}},{"name":"barcodeCanvas","generated":{"line":46,"column":0},"source":"assets/js/scan.js","original":{"line":42,"column":12}},{"name":"barcodeCanvas","generated":{"line":46,"column":10},"source":"assets/js/scan.js","original":{"line":42,"column":12}},{"generated":{"line":46,"column":23},"source":"assets/js/scan.js","original":{"line":42,"column":25}},{"name":"width","generated":{"line":46,"column":24},"source":"assets/js/scan.js","original":{"line":42,"column":26}},{"generated":{"line":46,"column":29},"source":"assets/js/scan.js","original":{"line":42,"column":12}},{"name":"video","generated":{"line":46,"column":32},"source":"assets/js/scan.js","original":{"line":42,"column":34}},{"generated":{"line":46,"column":37},"source":"assets/js/scan.js","original":{"line":42,"column":39}},{"name":"videoWidth","generated":{"line":46,"column":38},"source":"assets/js/scan.js","original":{"line":42,"column":40}},{"generated":{"line":46,"column":48},"source":"assets/js/scan.js","original":{"line":42,"column":12}},{"name":"barcodeCanvas","generated":{"line":47,"column":0},"source":"assets/js/scan.js","original":{"line":43,"column":12}},{"name":"barcodeCanvas","generated":{"line":47,"column":10},"source":"assets/js/scan.js","original":{"line":43,"column":12}},{"generated":{"line":47,"column":23},"source":"assets/js/scan.js","original":{"line":43,"column":25}},{"name":"height","generated":{"line":47,"column":24},"source":"assets/js/scan.js","original":{"line":43,"column":26}},{"generated":{"line":47,"column":30},"source":"assets/js/scan.js","original":{"line":43,"column":12}},{"name":"video","generated":{"line":47,"column":33},"source":"assets/js/scan.js","original":{"line":43,"column":35}},{"generated":{"line":47,"column":38},"source":"assets/js/scan.js","original":{"line":43,"column":40}},{"name":"videoHeight","generated":{"line":47,"column":39},"source":"assets/js/scan.js","original":{"line":43,"column":41}},{"generated":{"line":47,"column":50},"source":"assets/js/scan.js","original":{"line":43,"column":12}},{"generated":{"line":48,"column":0},"source":"assets/js/scan.js","original":{"line":44,"column":12}},{"name":"barcodeContext","generated":{"line":48,"column":14},"source":"assets/js/scan.js","original":{"line":44,"column":16}},{"generated":{"line":48,"column":28},"source":"assets/js/scan.js","original":{"line":44,"column":30}},{"name":"barcodeCanvas","generated":{"line":48,"column":31},"source":"assets/js/scan.js","original":{"line":44,"column":33}},{"generated":{"line":48,"column":44},"source":"assets/js/scan.js","original":{"line":44,"column":46}},{"name":"getContext","generated":{"line":48,"column":45},"source":"assets/js/scan.js","original":{"line":44,"column":47}},{"generated":{"line":48,"column":55},"source":"assets/js/scan.js","original":{"line":44,"column":33}},{"generated":{"line":48,"column":56},"source":"assets/js/scan.js","original":{"line":44,"column":58}},{"generated":{"line":48,"column":60},"source":"assets/js/scan.js","original":{"line":44,"column":33}},{"generated":{"line":48,"column":61},"source":"assets/js/scan.js","original":{"line":44,"column":12}},{"generated":{"line":49,"column":0},"source":"assets/js/scan.js","original":{"line":45,"column":12}},{"name":"imageWidth","generated":{"line":49,"column":14},"source":"assets/js/scan.js","original":{"line":45,"column":16}},{"generated":{"line":49,"column":24},"source":"assets/js/scan.js","original":{"line":45,"column":26}},{"name":"Math","generated":{"line":49,"column":27},"source":"assets/js/scan.js","original":{"line":45,"column":29}},{"generated":{"line":49,"column":31},"source":"assets/js/scan.js","original":{"line":45,"column":33}},{"name":"max","generated":{"line":49,"column":32},"source":"assets/js/scan.js","original":{"line":45,"column":34}},{"generated":{"line":49,"column":35},"source":"assets/js/scan.js","original":{"line":45,"column":29}},{"generated":{"line":49,"column":36},"source":"assets/js/scan.js","original":{"line":45,"column":38}},{"generated":{"line":49,"column":37},"source":"assets/js/scan.js","original":{"line":45,"column":29}},{"name":"Math","generated":{"line":49,"column":39},"source":"assets/js/scan.js","original":{"line":45,"column":41}},{"generated":{"line":49,"column":43},"source":"assets/js/scan.js","original":{"line":45,"column":45}},{"name":"floor","generated":{"line":49,"column":44},"source":"assets/js/scan.js","original":{"line":45,"column":46}},{"generated":{"line":49,"column":49},"source":"assets/js/scan.js","original":{"line":45,"column":41}},{"name":"video","generated":{"line":49,"column":50},"source":"assets/js/scan.js","original":{"line":45,"column":52}},{"generated":{"line":49,"column":55},"source":"assets/js/scan.js","original":{"line":45,"column":57}},{"name":"videoWidth","generated":{"line":49,"column":56},"source":"assets/js/scan.js","original":{"line":45,"column":58}},{"generated":{"line":49,"column":66},"source":"assets/js/scan.js","original":{"line":45,"column":41}},{"generated":{"line":49,"column":67},"source":"assets/js/scan.js","original":{"line":45,"column":29}},{"generated":{"line":49,"column":68},"source":"assets/js/scan.js","original":{"line":45,"column":12}},{"generated":{"line":50,"column":0},"source":"assets/js/scan.js","original":{"line":45,"column":12}},{"name":"imageHeight","generated":{"line":50,"column":14},"source":"assets/js/scan.js","original":{"line":46,"column":14}},{"generated":{"line":50,"column":25},"source":"assets/js/scan.js","original":{"line":46,"column":25}},{"name":"Math","generated":{"line":50,"column":28},"source":"assets/js/scan.js","original":{"line":46,"column":28}},{"generated":{"line":50,"column":32},"source":"assets/js/scan.js","original":{"line":46,"column":32}},{"name":"max","generated":{"line":50,"column":33},"source":"assets/js/scan.js","original":{"line":46,"column":33}},{"generated":{"line":50,"column":36},"source":"assets/js/scan.js","original":{"line":46,"column":28}},{"generated":{"line":50,"column":37},"source":"assets/js/scan.js","original":{"line":46,"column":37}},{"generated":{"line":50,"column":38},"source":"assets/js/scan.js","original":{"line":46,"column":28}},{"name":"Math","generated":{"line":50,"column":40},"source":"assets/js/scan.js","original":{"line":46,"column":40}},{"generated":{"line":50,"column":44},"source":"assets/js/scan.js","original":{"line":46,"column":44}},{"name":"floor","generated":{"line":50,"column":45},"source":"assets/js/scan.js","original":{"line":46,"column":45}},{"generated":{"line":50,"column":50},"source":"assets/js/scan.js","original":{"line":46,"column":40}},{"name":"video","generated":{"line":50,"column":51},"source":"assets/js/scan.js","original":{"line":46,"column":51}},{"generated":{"line":50,"column":56},"source":"assets/js/scan.js","original":{"line":46,"column":56}},{"name":"videoHeight","generated":{"line":50,"column":57},"source":"assets/js/scan.js","original":{"line":46,"column":57}},{"generated":{"line":50,"column":68},"source":"assets/js/scan.js","original":{"line":46,"column":40}},{"generated":{"line":50,"column":69},"source":"assets/js/scan.js","original":{"line":46,"column":28}},{"generated":{"line":50,"column":70},"source":"assets/js/scan.js","original":{"line":45,"column":12}},{"name":"barcodeContext","generated":{"line":51,"column":0},"source":"assets/js/scan.js","original":{"line":48,"column":12}},{"name":"barcodeContext","generated":{"line":51,"column":10},"source":"assets/js/scan.js","original":{"line":48,"column":12}},{"generated":{"line":51,"column":24},"source":"assets/js/scan.js","original":{"line":48,"column":26}},{"name":"drawImage","generated":{"line":51,"column":25},"source":"assets/js/scan.js","original":{"line":48,"column":27}},{"generated":{"line":51,"column":34},"source":"assets/js/scan.js","original":{"line":48,"column":12}},{"name":"video","generated":{"line":51,"column":35},"source":"assets/js/scan.js","original":{"line":48,"column":37}},{"generated":{"line":51,"column":40},"source":"assets/js/scan.js","original":{"line":48,"column":12}},{"generated":{"line":51,"column":42},"source":"assets/js/scan.js","original":{"line":48,"column":44}},{"generated":{"line":51,"column":43},"source":"assets/js/scan.js","original":{"line":48,"column":12}},{"generated":{"line":51,"column":45},"source":"assets/js/scan.js","original":{"line":48,"column":47}},{"generated":{"line":51,"column":46},"source":"assets/js/scan.js","original":{"line":48,"column":12}},{"name":"imageWidth","generated":{"line":51,"column":48},"source":"assets/js/scan.js","original":{"line":48,"column":50}},{"generated":{"line":51,"column":58},"source":"assets/js/scan.js","original":{"line":48,"column":12}},{"name":"imageHeight","generated":{"line":51,"column":60},"source":"assets/js/scan.js","original":{"line":48,"column":62}},{"generated":{"line":51,"column":71},"source":"assets/js/scan.js","original":{"line":48,"column":12}},{"generated":{"line":52,"column":0},"source":"assets/js/scan.js","original":{"line":50,"column":12}},{"name":"imageData","generated":{"line":52,"column":14},"source":"assets/js/scan.js","original":{"line":50,"column":16}},{"generated":{"line":52,"column":23},"source":"assets/js/scan.js","original":{"line":50,"column":25}},{"name":"barcodeContext","generated":{"line":52,"column":26},"source":"assets/js/scan.js","original":{"line":50,"column":28}},{"generated":{"line":52,"column":40},"source":"assets/js/scan.js","original":{"line":50,"column":42}},{"name":"getImageData","generated":{"line":52,"column":41},"source":"assets/js/scan.js","original":{"line":50,"column":43}},{"generated":{"line":52,"column":53},"source":"assets/js/scan.js","original":{"line":50,"column":28}},{"generated":{"line":52,"column":54},"source":"assets/js/scan.js","original":{"line":51,"column":14}},{"generated":{"line":52,"column":55},"source":"assets/js/scan.js","original":{"line":50,"column":28}},{"generated":{"line":52,"column":57},"source":"assets/js/scan.js","original":{"line":52,"column":14}},{"generated":{"line":52,"column":58},"source":"assets/js/scan.js","original":{"line":50,"column":28}},{"name":"imageWidth","generated":{"line":52,"column":60},"source":"assets/js/scan.js","original":{"line":53,"column":14}},{"generated":{"line":52,"column":70},"source":"assets/js/scan.js","original":{"line":50,"column":28}},{"name":"imageHeight","generated":{"line":52,"column":72},"source":"assets/js/scan.js","original":{"line":54,"column":14}},{"generated":{"line":52,"column":83},"source":"assets/js/scan.js","original":{"line":50,"column":28}},{"generated":{"line":52,"column":84},"source":"assets/js/scan.js","original":{"line":50,"column":12}},{"generated":{"line":53,"column":0},"source":"assets/js/scan.js","original":{"line":56,"column":12}},{"name":"idd","generated":{"line":53,"column":14},"source":"assets/js/scan.js","original":{"line":56,"column":16}},{"generated":{"line":53,"column":17},"source":"assets/js/scan.js","original":{"line":56,"column":19}},{"name":"imageData","generated":{"line":53,"column":20},"source":"assets/js/scan.js","original":{"line":56,"column":22}},{"generated":{"line":53,"column":29},"source":"assets/js/scan.js","original":{"line":56,"column":31}},{"name":"data","generated":{"line":53,"column":30},"source":"assets/js/scan.js","original":{"line":56,"column":32}},{"generated":{"line":53,"column":34},"source":"assets/js/scan.js","original":{"line":56,"column":12}},{"generated":{"line":54,"column":0},"source":"assets/js/scan.js","original":{"line":58,"column":12}},{"name":"code","generated":{"line":54,"column":14},"source":"assets/js/scan.js","original":{"line":58,"column":16}},{"generated":{"line":54,"column":18},"source":"assets/js/scan.js","original":{"line":58,"column":20}},{"generated":{"line":54,"column":21},"source":"assets/js/scan.js","original":{"line":58,"column":23}},{"name":"idd","generated":{"line":54,"column":40},"source":"assets/js/scan.js","original":{"line":58,"column":28}},{"generated":{"line":54,"column":43},"source":"assets/js/scan.js","original":{"line":58,"column":23}},{"name":"imageWidth","generated":{"line":54,"column":45},"source":"assets/js/scan.js","original":{"line":58,"column":33}},{"generated":{"line":54,"column":55},"source":"assets/js/scan.js","original":{"line":58,"column":23}},{"name":"imageHeight","generated":{"line":54,"column":57},"source":"assets/js/scan.js","original":{"line":58,"column":45}},{"generated":{"line":54,"column":68},"source":"assets/js/scan.js","original":{"line":58,"column":23}},{"generated":{"line":54,"column":69},"source":"assets/js/scan.js","original":{"line":58,"column":12}},{"name":"console","generated":{"line":55,"column":0},"source":"assets/js/scan.js","original":{"line":59,"column":12}},{"name":"console","generated":{"line":55,"column":10},"source":"assets/js/scan.js","original":{"line":59,"column":12}},{"generated":{"line":55,"column":17},"source":"assets/js/scan.js","original":{"line":59,"column":19}},{"name":"log","generated":{"line":55,"column":18},"source":"assets/js/scan.js","original":{"line":59,"column":20}},{"generated":{"line":55,"column":21},"source":"assets/js/scan.js","original":{"line":59,"column":12}},{"name":"code","generated":{"line":55,"column":22},"source":"assets/js/scan.js","original":{"line":59,"column":24}},{"generated":{"line":55,"column":26},"source":"assets/js/scan.js","original":{"line":59,"column":12}},{"generated":{"line":57,"column":0},"source":"assets/js/scan.js","original":{"line":61,"column":12}},{"name":"code","generated":{"line":57,"column":14},"source":"assets/js/scan.js","original":{"line":61,"column":16}},{"generated":{"line":57,"column":18},"source":"assets/js/scan.js","original":{"line":61,"column":12}},{"generated":{"line":57,"column":20},"source":"assets/js/scan.js","original":{"line":61,"column":22}},{"name":"stop_scan","generated":{"line":58,"column":0},"source":"assets/js/scan.js","original":{"line":62,"column":14}},{"name":"stop_scan","generated":{"line":58,"column":12},"source":"assets/js/scan.js","original":{"line":62,"column":14}},{"generated":{"line":58,"column":21},"source":"assets/js/scan.js","original":{"line":62,"column":23}},{"name":"callback","generated":{"line":59,"column":0},"source":"assets/js/scan.js","original":{"line":63,"column":14}},{"name":"callback","generated":{"line":59,"column":12},"source":"assets/js/scan.js","original":{"line":63,"column":14}},{"generated":{"line":59,"column":20},"source":"assets/js/scan.js","original":{"line":63,"column":22}},{"name":"code","generated":{"line":59,"column":21},"source":"assets/js/scan.js","original":{"line":63,"column":23}},{"generated":{"line":59,"column":25},"source":"assets/js/scan.js","original":{"line":63,"column":27}},{"name":"data","generated":{"line":59,"column":26},"source":"assets/js/scan.js","original":{"line":63,"column":28}},{"generated":{"line":59,"column":30},"source":"assets/js/scan.js","original":{"line":63,"column":22}},{"generated":{"line":59,"column":31},"source":"assets/js/scan.js","original":{"line":63,"column":14}},{"name":"clearInterval","generated":{"line":60,"column":0},"source":"assets/js/scan.js","original":{"line":64,"column":14}},{"name":"clearInterval","generated":{"line":60,"column":12},"source":"assets/js/scan.js","original":{"line":64,"column":14}},{"generated":{"line":60,"column":25},"source":"assets/js/scan.js","original":{"line":64,"column":27}},{"name":"intv","generated":{"line":60,"column":26},"source":"assets/js/scan.js","original":{"line":64,"column":28}},{"generated":{"line":60,"column":30},"source":"assets/js/scan.js","original":{"line":64,"column":27}},{"generated":{"line":60,"column":31},"source":"assets/js/scan.js","original":{"line":64,"column":14}},{"generated":{"line":61,"column":0},"source":"assets/js/scan.js","original":{"line":65,"column":13}},{"generated":{"line":62,"column":0},"source":"assets/js/scan.js","original":{"line":66,"column":11}},{"generated":{"line":62,"column":9},"source":"assets/js/scan.js","original":{"line":41,"column":28}},{"generated":{"line":62,"column":11},"source":"assets/js/scan.js","original":{"line":66,"column":13}},{"generated":{"line":62,"column":15},"source":"assets/js/scan.js","original":{"line":41,"column":28}},{"generated":{"line":62,"column":16},"source":"assets/js/scan.js","original":{"line":41,"column":10}},{"generated":{"line":63,"column":0},"source":"assets/js/scan.js","original":{"line":67,"column":9}},{"generated":{"line":63,"column":7},"source":"assets/js/scan.js","original":{"line":37,"column":8}},{"generated":{"line":64,"column":0},"source":"assets/js/scan.js","original":{"line":68,"column":7}},{"generated":{"line":64,"column":5},"source":"assets/js/scan.js","original":{"line":25,"column":4}},{"generated":{"line":64,"column":7},"source":"assets/js/scan.js","original":{"line":69,"column":6}},{"name":"err","generated":{"line":64,"column":17},"source":"assets/js/scan.js","original":{"line":69,"column":16}},{"generated":{"line":64,"column":20},"source":"assets/js/scan.js","original":{"line":69,"column":6}},{"generated":{"line":64,"column":22},"source":"assets/js/scan.js","original":{"line":69,"column":21}},{"name":"console","generated":{"line":65,"column":0},"source":"assets/js/scan.js","original":{"line":70,"column":8}},{"name":"console","generated":{"line":65,"column":6},"source":"assets/js/scan.js","original":{"line":70,"column":8}},{"generated":{"line":65,"column":13},"source":"assets/js/scan.js","original":{"line":70,"column":15}},{"name":"log","generated":{"line":65,"column":14},"source":"assets/js/scan.js","original":{"line":70,"column":16}},{"generated":{"line":65,"column":17},"source":"assets/js/scan.js","original":{"line":70,"column":8}},{"generated":{"line":65,"column":18},"source":"assets/js/scan.js","original":{"line":70,"column":20}},{"name":"err","generated":{"line":65,"column":53},"source":"assets/js/scan.js","original":{"line":70,"column":55}},{"generated":{"line":65,"column":56},"source":"assets/js/scan.js","original":{"line":70,"column":58}},{"name":"name","generated":{"line":65,"column":57},"source":"assets/js/scan.js","original":{"line":70,"column":59}},{"generated":{"line":65,"column":61},"source":"assets/js/scan.js","original":{"line":70,"column":8}},{"generated":{"line":66,"column":0},"source":"assets/js/scan.js","original":{"line":71,"column":7}},{"generated":{"line":66,"column":5},"source":"assets/js/scan.js","original":{"line":25,"column":4}},{"generated":{"line":67,"column":0},"source":"assets/js/scan.js","original":{"line":73,"column":3}},{"generated":{"line":67,"column":3},"source":"assets/js/scan.js","original":{"line":24,"column":2}},{"generated":{"line":67,"column":9},"source":"assets/js/scan.js","original":{"line":73,"column":9}},{"name":"console","generated":{"line":68,"column":0},"source":"assets/js/scan.js","original":{"line":74,"column":4}},{"name":"console","generated":{"line":68,"column":4},"source":"assets/js/scan.js","original":{"line":74,"column":4}},{"generated":{"line":68,"column":11},"source":"assets/js/scan.js","original":{"line":74,"column":11}},{"name":"log","generated":{"line":68,"column":12},"source":"assets/js/scan.js","original":{"line":74,"column":12}},{"generated":{"line":68,"column":15},"source":"assets/js/scan.js","original":{"line":74,"column":4}},{"generated":{"line":68,"column":16},"source":"assets/js/scan.js","original":{"line":74,"column":16}},{"generated":{"line":68,"column":44},"source":"assets/js/scan.js","original":{"line":74,"column":4}},{"generated":{"line":69,"column":0},"source":"assets/js/scan.js","original":{"line":75,"column":3}},{"generated":{"line":70,"column":0},"source":"assets/js/scan.js","original":{"line":76,"column":1}},{"generated":{"line":70,"column":1},"source":"assets/js/scan.js","original":{"line":15,"column":7}}],"sources":{"assets/js/scan.js":"import jsQR from \"jsqr\";\nimport { status } from \"../../app.js\";\n\nlet video;\nlet intv;\n\nexport let stop_scan = function () {\n  document.getElementById(\"qr-screen\").style.display = \"none\";\n\n  document.getElementById(\"cal-subs-url\").focus();\n  status.view = \"subscription\";\n  console.log(\"yeah\");\n};\n\nexport let start_scan = function (callback) {\n  document.getElementById(\"qr-screen\").style.display = \"block\";\n  console.log(\"start\");\n\n  navigator.getUserMedia =\n    navigator.getUserMedia ||\n    navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia;\n\n  if (navigator.getUserMedia) {\n    navigator.getUserMedia(\n      {\n        audio: false,\n        video: {\n          width: 200,\n          height: 200,\n        },\n      },\n      function (stream) {\n        video = document.querySelector(\"video\");\n        video.srcObject = stream;\n\n        video.onloadedmetadata = function (e) {\n          video.play();\n\n          var barcodeCanvas = document.createElement(\"canvas\");\n          intv = setInterval(() => {\n            barcodeCanvas.width = video.videoWidth;\n            barcodeCanvas.height = video.videoHeight;\n            var barcodeContext = barcodeCanvas.getContext(\"2d\");\n            var imageWidth = Math.max(1, Math.floor(video.videoWidth)),\n              imageHeight = Math.max(1, Math.floor(video.videoHeight));\n\n            barcodeContext.drawImage(video, 0, 0, imageWidth, imageHeight);\n\n            var imageData = barcodeContext.getImageData(\n              0,\n              0,\n              imageWidth,\n              imageHeight\n            );\n            var idd = imageData.data;\n\n            let code = jsQR(idd, imageWidth, imageHeight);\n            console.log(code);\n\n            if (code) {\n              stop_scan();\n              callback(code.data);\n              clearInterval(intv);\n            }\n          }, 1000);\n        };\n      },\n      function (err) {\n        console.log(\"The following error occurred: \" + err.name);\n      }\n    );\n  } else {\n    console.log(\"getUserMedia not supported\");\n  }\n};\n"},"lineCount":null}},"error":null,"hash":"5718622b61e59ddda04dfbd551a6cc18","cacheData":{"env":{}}}