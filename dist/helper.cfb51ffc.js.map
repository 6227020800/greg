{"version":3,"sources":["assets/js/helper.js"],"names":["helper","sort_array","arr","item_key","type","sort","a","b","da","Date","db","fa","toLowerCase","fb","uid","_p8","s","p","Math","random","toString","substr","notification","notify","param_title","param_text","param_silent","options","body","silent","requireInteraction","Notification","permission","requestPermission","then","pushLocalNotification","title","window","result","onerror","err","console","log","onclick","event","navigator","mozApps","request","getSelf","onsuccess","close","launch","open","document","location","origin","onshow","mozSetMessageHandler","message","JSON","stringify","data","foo","validate","url","pattern","test","getManifest","callback","self","queue","timeout","toaster","text","time","push","length","toast_q","x","querySelector","innerHTML","style","transform","setTimeout","slice","queue_st","ttimeout","side_toaster","toast_qq","bottom_bar","left","center","right","textContent","display","top_bar","add_script","script","appendChild","createElement","src","lock","screenlock","stat","requestWakeLock","alert","error","name","topic","unlock","formatFileSize","bytes","decimalPoint","undefined","NaN","k","dm","sizes","i","floor","parseFloat","pow","toFixed","goodbye","getElementById","localStorage","clickcount","Number","pick_image","cb","activity","MozActivity","blob","deleteFile","storage","path","sdcard","getDeviceStorages","requestDel","delete","list_files","filetype","d","getDeviceStorage","cursor","enumerate","file","n","split","file_type","continue","warn","NodeList","prototype","forEach","Array","hashCode","str","hash","charCodeAt","intToRGB","c","toUpperCase","substring","getRandomInteger","min","max","ceil","share","check_iconnection","updateOfflineStatus","addEventListener","delete_file","filename","get_file","get","write_file","Blob","addNamed"],"mappings":"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","file":"helper.cfb51ffc.js","sourceRoot":"../application","sourcesContent":["\"use strict\";\n\nconst helper = (() => {\n  let sort_array = function (arr, item_key, type) {\n    if (type == \"date\") {\n      arr.sort((a, b) => {\n        let da = new Date(a[item_key]),\n          db = new Date(b[item_key]);\n        return da - db;\n      });\n    }\n\n    //sort by number\n    if (type == \"number\") {\n      arr.sort((a, b) => {\n        return b[item_key] - a[item_key];\n      });\n    }\n    //sort by string\n    if (type == \"string\") {\n      arr.sort((a, b) => {\n        let fa = a[item_key].toLowerCase(),\n          fb = b[item_key].toLowerCase();\n\n        if (fa < fb) {\n          return -1;\n        }\n        if (fa > fb) {\n          return 1;\n        }\n        return 0;\n      });\n    }\n  };\n\n  let uid = function () {\n    function _p8(s) {\n      var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\n      return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\n    }\n    return \"greg@\" + _p8() + _p8(true) + _p8(true) + _p8();\n  };\n\n  let notification = \"\";\n  let notify = function (param_title, param_text, param_silent) {\n    var options = {\n      body: param_text,\n      silent: param_silent,\n      requireInteraction: false,\n      //actions: [{ action: \"test\", title: \"test\" }],\n    };\n\n    // Let's check whether notification permissions have already been granted\n    if (Notification.permission === \"granted\") {\n      // If it's okay let's create a notification\n      notification = new Notification(param_title, options);\n    }\n\n    // Otherwise, we need to ask the user for permission\n    if (Notification.permission !== \"denied\") {\n      Notification.requestPermission().then(function (permission) {\n        // If the user accepts, let's create a notification\n        if (permission === \"granted\") {\n          notification = new Notification(param_title, options);\n        }\n      });\n    }\n  };\n\n  //https://notifications.spec.whatwg.org/#dictdef-notificationaction\n\n  const pushLocalNotification = function (title, body) {\n    window.Notification.requestPermission().then((result) => {\n      var notification = new window.Notification(title, {\n        body: body,\n        //requireInteraction: true,\n      });\n\n      notification.onerror = function (err) {\n        console.log(err);\n      };\n      notification.onclick = function (event) {\n        if (window.navigator.mozApps) {\n          var request = window.navigator.mozApps.getSelf();\n          request.onsuccess = function () {\n            if (request.result) {\n              notification.close();\n              request.result.launch();\n            }\n          };\n        } else {\n          window.open(document.location.origin, \"_blank\");\n        }\n      };\n      notification.onshow = function () {\n        // notification.close();\n      };\n    });\n  };\n  if (navigator.mozSetMessageHandler) {\n    navigator.mozSetMessageHandler(\"alarm\", function (message) {\n      console.log(JSON.stringify(message));\n      pushLocalNotification(\"Greg\", message.data.foo);\n    });\n  }\n\n  function validate(url) {\n    var pattern =\n      /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n    if (pattern.test(url)) {\n      return true;\n    }\n    return false;\n  }\n\n  let getManifest = function (callback) {\n    if (!navigator.mozApps) {\n      //let t = document.getElementById(\"kaisos-ads\");\n      //t.remove();\n      return false;\n    }\n    let self = navigator.mozApps.getSelf();\n    self.onsuccess = function () {\n      callback(self.result);\n    };\n    self.onerror = function () {};\n  };\n\n  //top toaster\n  let queue = [];\n  let timeout;\n  let toaster = function (text, time) {\n    queue.push({ text: text, time: time });\n    if (queue.length === 1) {\n      toast_q(text, time);\n    }\n  };\n\n  let toast_q = function (text, time) {\n    var x = document.querySelector(\"div#toast\");\n    x.innerHTML = queue[0].text;\n\n    x.style.transform = \"translate(0px, 0px)\";\n\n    timeout = setTimeout(function () {\n      timeout = null;\n      x.style.transform = \"translate(0px, -100px)\";\n      queue = queue.slice(1);\n      if (queue.length > 0) {\n        setTimeout(() => {\n          toast_q(text, time);\n        }, 1000);\n      }\n    }, time);\n  };\n\n  //side toaster\n\n  let queue_st = [];\n  let ttimeout;\n  let side_toaster = function (text, time) {\n    queue_st.push({ text: text, time: time });\n    if (queue_st.length === 1) {\n      toast_qq(text, time);\n    }\n  };\n\n  let toast_qq = function (text, time) {\n    var x = document.querySelector(\"div#side-toast\");\n    x.innerHTML = queue_st[0].text;\n\n    x.style.transform = \"translate(0vh, 0px)\";\n\n    timeout = setTimeout(function () {\n      ttimeout = null;\n      x.style.transform = \"translate(-100vh,0px)\";\n      queue_st = queue.slice(1);\n      if (queue_st.length > 0) {\n        setTimeout(() => {\n          toast_qq(text, time);\n        }, 1000);\n      }\n    }, time);\n  };\n\n  //bottom bar\n  let bottom_bar = function (left, center, right) {\n    document.querySelector(\"div#bottom-bar div#button-left\").textContent = left;\n    document.querySelector(\"div#bottom-bar div#button-center\").textContent =\n      center;\n    document.querySelector(\"div#bottom-bar div#button-right\").textContent =\n      right;\n\n    if (left == \"\" && center == \"\" && right == \"\") {\n      document.querySelector(\"div#bottom-bar\").style.display = \"none\";\n    } else {\n      document.querySelector(\"div#bottom-bar\").style.display = \"block\";\n    }\n  };\n\n  //top bar\n  let top_bar = function (left, center, right) {\n    document.querySelector(\"div#top-bar div.button-left\").innerHTML = left;\n    document.querySelector(\"div#top-bar div.button-center\").textContent =\n      center;\n    document.querySelector(\"div#top-bar div.button-right\").textContent = right;\n\n    if (left == \"\" && center == \"\" && right == \"\") {\n      document.querySelector(\"div#top-bar\").style.display = \"none\";\n    } else {\n      document.querySelector(\"div#top-bar\").style.display = \"block\";\n    }\n  };\n\n  let add_script = function (script) {\n    document.body.appendChild(document.createElement(\"script\")).src = script;\n  };\n\n  let lock;\n  let screenlock = function (stat) {\n    if (typeof window.navigator.requestWakeLock === \"undefined\") {\n      return false;\n    }\n    if (stat == \"lock\") {\n      lock = window.navigator.requestWakeLock(\"screen\");\n      lock.onsuccess = function () {};\n      lock.onerror = function () {\n        alert(\"An error occurred: \" + this.error.name);\n      };\n    }\n\n    if (stat == \"unlock\") {\n      if (lock.topic == \"screen\") {\n        lock.unlock();\n      }\n    }\n  };\n\n  //filesize\n  function formatFileSize(bytes, decimalPoint) {\n    if (bytes || bytes > 0 || bytes != undefined || bytes != NaN) {\n      var k = 1000,\n        dm = decimalPoint || 2,\n        sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"],\n        i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n    }\n  }\n\n  //goodbye\n\n  let goodbye = function () {\n    document.getElementById(\"goodbye\").style.display = \"block\";\n    bottom_bar(\"\", \"\", \"\");\n\n    if (localStorage.clickcount) {\n      localStorage.clickcount = Number(localStorage.clickcount) + 1;\n    } else {\n      localStorage.clickcount = 1;\n    }\n\n    if (localStorage.clickcount == 300000) {\n      message();\n    } else {\n      document.getElementById(\"ciao\").style.display = \"block\";\n      setTimeout(function () {\n        window.close();\n      }, 2000);\n    }\n\n    function message() {\n      document.getElementById(\"donation\").style.display = \"block\";\n      setTimeout(function () {\n        localStorage.clickcount = 1;\n\n        window.close();\n      }, 3000);\n    }\n  };\n  //pick image\n  let pick_image = function (cb) {\n    var activity = new MozActivity({\n      name: \"pick\",\n      data: {\n        type: [\"image/png\", \"image/jpg\", \"image/jpeg\"],\n      },\n    });\n\n    activity.onsuccess = function () {\n      console.log(\"Activity successfuly handled\");\n\n      let p = this.result.blob;\n      cb(p);\n    };\n\n    activity.onerror = function () {\n      console.log(\"The activity encouter en error: \" + this.error);\n    };\n  };\n\n  //delete file\n  function deleteFile(storage, path, notification) {\n    let sdcard = navigator.getDeviceStorages(\"sdcard\");\n\n    let requestDel = sdcard[storage].delete(path);\n\n    requestDel.onsuccess = function () {\n      if (notification == \"notification\") {\n        helper.toaster(\n          'File \"' +\n            name +\n            '\" successfully deleted frome the sdcard storage area'\n        );\n      }\n    };\n\n    requestDel.onerror = function () {\n      helper.toaster(\"Unable to delete the file: \" + this.error);\n    };\n  }\n\n  let list_files = function (filetype, callback) {\n    var d = navigator.getDeviceStorage(\"sdcard\");\n\n    var cursor = d.enumerate();\n\n    cursor.onsuccess = function () {\n      if (!this.result) {\n        console.log(\"finished\");\n      }\n      if (cursor.result.name !== null) {\n        var file = cursor.result;\n        let n = file.name.split(\".\");\n        let file_type = n[n.length - 1];\n\n        if (file_type == filetype) {\n          callback(file.name);\n        }\n        this.continue();\n      }\n    };\n\n    cursor.onerror = function () {\n      console.warn(\"No file found: \" + this.error);\n    };\n  };\n\n  return {\n    list_files,\n    getManifest,\n    toaster,\n    side_toaster,\n    add_script,\n    deleteFile,\n    goodbye,\n    screenlock,\n    validate,\n    formatFileSize,\n    top_bar,\n    bottom_bar,\n    notify,\n    uid,\n    sort_array,\n    pick_image,\n  };\n})();\n\n//polyfill\nif (window.NodeList && !NodeList.prototype.forEach) {\n  NodeList.prototype.forEach = Array.prototype.forEach;\n}\n\nfunction hashCode(str) {\n  var hash = 0;\n  for (var i = 0; i < str.length; i++) {\n    hash = ~~((hash << 5) - hash + str.charCodeAt(i));\n  }\n  return hash;\n}\n\nfunction intToRGB(i) {\n  var c = (i & 0x00ffffff).toString(16).toUpperCase();\n\n  return \"00000\".substring(0, 6 - c.length) + c;\n}\n\nfunction getRandomInteger(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction share(url) {\n  var activity = new MozActivity({\n    name: \"share\",\n    data: {\n      type: \"url\",\n      url: url,\n    },\n  });\n\n  activity.onsuccess = function () {};\n\n  activity.onerror = function () {\n    console.log(\"The activity encounter en error: \" + this.error);\n  };\n}\n\n//check if internet connection\nfunction check_iconnection() {\n  function updateOfflineStatus() {\n    toaster(\"Your Browser is offline\", 15000);\n    return false;\n  }\n\n  window.addEventListener(\"offline\", updateOfflineStatus);\n}\n\nfunction delete_file(filename) {\n  var sdcard = navigator.getDeviceStorages(\"sdcard\");\n  var request = sdcard[1].delete(filename);\n\n  request.onsuccess = function () {\n    //toaster(\"File deleted\", 2000);\n  };\n\n  request.onerror = function () {\n    //toaster(\"Unable to delete the file: \" + this.error, 2000);\n  };\n}\n\nfunction get_file(filename) {\n  var sdcard = navigator.getDeviceStorages(\"sdcard\");\n  var request = sdcard[1].get(filename);\n\n  request.onsuccess = function () {\n    var file = this.result;\n    //alert(\"Get the file: \" + file.name);\n  };\n\n  request.onerror = function () {\n    //alert(\"Unable to get the file: \" + this.error);\n  };\n}\n\nfunction write_file(data, filename) {\n  var sdcard = navigator.getDeviceStorages(\"sdcard\");\n  var file = new Blob([data], {\n    type: \"text/plain\",\n  });\n  var request = sdcard[1].addNamed(file, filename);\n\n  request.onsuccess = function () {\n    var name = this.result;\n    //toaster('File \"' + name + '\" successfully wrote on the sdcard storage area', 2000);\n  };\n\n  // An error typically occur if a file with the same name already exist\n  request.onerror = function () {\n    toaster(\"Unable to write the file: \" + this.error, 2000);\n  };\n}\n"]}